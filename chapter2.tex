\chapter{Peer-to-peer Networks and Darknets}


\section{Peer-to-peer (P2P) Networks}

In this section a short history of the internet leading to the development and spreading of peer-to-peer network architecture is given. The key concepts and properties of peer-to-peer systems are explained. It should provide a basic understanding of differences and advantages of the peer-to-peer network design.

\subsection{From classical client-server architecture to distributed networks}

The internet emerged from several military and sience research networks, with ARPANET as the most commonly known of them. It was planed and designed as a decentralized telecomunication network resiliant to outages. Although its resiliance on a network level, most its services have still a centralized structure. On failure not the whole network will fail, but a service, as a website like \emph{www.tu-darmstadt.de} or its email system, can come unavailable easily.

This originates from the in most protocols and services used client-server architecture. The clients tries to find a single server to send its request to. The server processes the request and sends the response back. If in the time between the server is chosen by the client and it sends the response the server fails, the reqeust fails too. There are several methods in protocol and network design to prevent such failures.

The basic approach is to devide the responsipilities in different independant domains. For example an email server is not responsible for all the emails in the world but only for those of one (or more) domains. Note that such a domain does not necessarily mean a domain name in the DNS system but can be an arbitrary domain like a company, an university or just a group of people.

The next level of reduction of responsibility is to reduce what a single component is responsible for. Avoidance of single-point-of-failures, redundancy, load balancing where single requests are distributed to different servers are the common ones. However, all the approaches on this level scale very badly and therefor are highly expensive when achieving good fault tolerance or dealing with large amount of clients or reqeuests.

Taking the splitting of responsibility to the maximum, every one is responsible for everything. This is basicaly the idea behind the peer-to-peer architecture in which every client is simultaniously a server. Of course not every client is responsible for everything in a network but each of them is participating in the service of the network, serving a fraction of the serving while for each fraction there are multiple servers. Since there is commonly no distinction between clients and servers a participant is called a node or peer.

\subsection{The rise of P2P systems and todays usage}

With the Domain Name System (DNS) and the Simple Mail Transfer Protocol (SMTP) some parts of the peer-to-peer design are already used since early days of the internet. More than that, P2P ideas were researched, developed and used in smaller scale for a long time. But it took until the late '90 and file sharing networks as Napster to popularize the P2P concept.

This high usage for unauthorized file sharing of copyright protected material led to a infamous image. Under this the term P2P suffered for quite a time. Just in the past few years several larger companys began to utilize peer-to-peer systems, e.g. for delivering larger sets of data to a huge amount of customers.

Today P2P systems are more and more used as a resiliant and scalable basis for communication, content delivery, and distributed storage, both legaly in public and unclear or even illegaly in twilight.

\subsection{What a peer-to-peer overlay is}

Of course not every node in the internet or another network participates in a P2P network. And not every two peers in a P2P network have to be directly connected and be able to communicate with each other. Therefor the P2P network graph is only a subset of the underlaying topology graph.

Commonly a seperate addressing scheme for communication in such a network is used. In most cases a node is identified by just a sequence of bits, its ID. It is usually represented as a number in decimal or hexadecimal form. All possible IDs together are called the address or ID space and its size vary from network to network but is constant within one network.

Both these propertys together form a more or less idependant network put on top of the underlaying one. It is then called a peer-to-peer overlay.


\section{Darknets: privacy preserving P2P overlays}

In the last section we gave a brief overview of the key aspects of peer-to-peer systems and their envolvement over time. As any tool and technology, P2P systems have advantages and disadvantages and can be used for good or evil. Now we will discuss how the demand for privacy led to a more specialized class of peer-to-peer networks, the darknets.

\subsection{Consequences of decentralisation}

As discussed before the essence of P2P systems are their decentralisation. Not a single server but virtually every pariticpant of the system is responsible for serving requests which results in a high failure resiliance. What is a valuable property for its users can be problematic if trying to stop the service of a network. Preventing the unauthorized distribution of copyright protected material just as repressed communication is rendered nearly impossible. \todo{weiter ausführen? eventuell 2 absätze, sonst mit nächster subsection zusammen legen?}

\subsection{The demand for privacy preservation}
why and what data to protect..

\subsection{Trust relation base membership and membership consealment}

\subsection{Forwarding requests and hop-by-hop anonymity}


\section{Darknet characteristics and resulting challenges}

\subsection{Hidden Topology}

\subsection{Difficulties for routing ...}

\subsection{... and evaluation}


\section{Metrices for routing evaluation}



\section{Measurement methods for networks}

\subsection{Full blown test environment or mathematical model evalution?}

\subsection{Inbetween: emulation and simulation}

\subsection{Applicability on darknets}



\section{Survey of previous darknets}


